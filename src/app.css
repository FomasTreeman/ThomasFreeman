/* Locomotive Scroll base styles */
@import 'locomotive-scroll/dist/locomotive-scroll.css';

:root {
	font-family: 'Work Sans', system-ui, Avenir, Helvetica, Arial, sans-serif;
	line-height: 1.5;
	font-weight: 400;

	color-scheme: light dark;
	background-color: var(--background-color);
	color: var(--color);

	font-synthesis: none;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	-webkit-text-size-adjust: 100%;

	--color: rgba(255, 255, 255, 0.87);
	--background-color: #242424;
	--primary-color1: rgba(255, 138.747, 0, 1);
	--primary-color2: rgba(249.379, 220.165, 0, 1);
	--secondary-color1: rgba(0, 121.112, 255, 1);
	--secondary-color2: rgba(72.073, 189.936, 255, 1);
	--link-color: #646cff;
	--link-color-hover: #535bf2;
	--margin-left: 5rem;
	--icon-width: 4rem;
	--icon-margin: 2rem;
	/* 22 is number of imgs */
	/* breaks at 900px width */
	/* --stack-width: calc(100vw - 110vw + 22 * var(--img-width)); */
	--stack-width: calc(22 * (var(--icon-width) + var(--icon-margin)));

	/* Locomotive Scroll animation variables - DRAMATIC EFFECTS */
	--ease-out: cubic-bezier(0.16, 1, 0.3, 1);
	--ease-in: cubic-bezier(0.32, 0, 0.67, 0);
	--dur-quick: 500ms;
	--dur: 1200ms;
	--dur-slow: 1800ms;
	--reveal-distance: 120px; /* Much larger movement */
	--rotate-deg: 15deg; /* More rotation */
	--scale-from: 0.7; /* Start much smaller */

	@media (min-width: 1440px) {
		--margin-left: 8rem;

		h1 {
			font-size: 4.5rem;
		}

		h2 {
			font-size: 3rem;
		}

		h3 {
			font-size: 2.5rem;
		}

		p {
			font-size: 1.5rem;
		}
	}

	@media (max-width: 768px) {
		--reveal-distance: 80px; /* Still dramatic on mobile */
		--dur: 900ms;
	}

	/* Glassmorphism tokens - optimized for dark/black backgrounds
	 * 
	 * USAGE: Apply the .glass class to elements that need a frosted glass effect.
	 * For very dark/black backgrounds, use higher alpha values (0.12+) to ensure visibility.
	 * For lighter backgrounds, reduce alpha to 0.08-0.10 to avoid over-prominence.
	 * 
	 * PARALLAX GUIDELINES:
	 * - Keep data-scroll-speed values between -1.5 and 1.5 for smooth scrolling
	 * - Apply parallax to inner content elements, not large background containers
	 * - Avoid parallax on header/footer sections to keep them static
	 */
	--glass-bg-alpha: 0.12; /* Bump to 0.14 on pure black/OLED if still too faint */
	--glass-border-alpha: 0.22;
	--glass-highlight-alpha: 0.22;
	--glass-blur: 20px;
}

html,
body,
#app {
	height: 100%;
}

ƒ h1,
h2 {
	font-weight: 800;
}

a {
	font-weight: 500;
	color: inherit;
	text-decoration: none;
}

/* a:hover {§
	color: #535bf2;
} */

body {
	min-width: 320px;
	margin: 0%;
	width: 100vw;
}

button {
	border-radius: 8px;
	border: 1px solid transparent;
	padding: 0.6em 1.2em;
	font-size: 1em;
	font-weight: 500;
	font-family: inherit;
	background-color: #1a1a1a;
	cursor: pointer;
	transition: border-color 0.25s, scale 250ms, box-shadow 250ms;
}

/* button:hover {
    border-color: #646cff;
  } */
button:focus,
button:focus-visible {
	outline: 4px auto -webkit-focus-ring-color;
}

button:hover {
	box-shadow: 0px 0px 5px 1px rgba(0, 121, 255, 0.7);
	scale: 1.05;
	transition: scale 250ms, box-shadow 250ms;
}

/* ============================================
   Locomotive Scroll Reveal Effects
   ============================================ */

/* Reveal utility classes triggered by .is-inview that Locomotive adds to [data-scroll] elements */
[data-scroll].reveal-up {
	opacity: 0;
	transform: translateY(var(--reveal-distance)) scale(0.95);
	transition:
		transform var(--dur) var(--ease-out),
		opacity var(--dur) var(--ease-out);
	will-change: transform, opacity;
}
[data-scroll].reveal-up.is-inview {
	opacity: 1;
	transform: none;
	animation: bounceIn 0.6s ease-out;
}

@keyframes bounceIn {
	0% { transform: scale(0.95); }
	50% { transform: scale(1.02); }
	100% { transform: scale(1); }
}

[data-scroll].reveal-fade {
	opacity: 0;
	filter: blur(10px);
	transition: opacity var(--dur) var(--ease-out), filter var(--dur) var(--ease-out);
}
[data-scroll].reveal-fade.is-inview {
	opacity: 1;
	filter: blur(0);
}

[data-scroll].reveal-scale {
	transform: scale(var(--scale-from)) rotate(-5deg);
	opacity: 0;
	filter: blur(5px);
	transition:
		transform var(--dur) var(--ease-out),
		opacity var(--dur) var(--ease-out),
		filter var(--dur) var(--ease-out);
	will-change: transform, opacity;
}
[data-scroll].reveal-scale.is-inview {
	transform: scale(1) rotate(0);
	opacity: 1;
	filter: blur(0);
	animation: popIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes popIn {
	0% { transform: scale(0.7) rotate(-5deg); }
	60% { transform: scale(1.1) rotate(2deg); }
	100% { transform: scale(1) rotate(0); }
}

[data-scroll].reveal-rotate {
	transform: rotate(var(--rotate-deg)) translateY(var(--reveal-distance)) scale(0.8);
	opacity: 0;
	filter: blur(8px);
	transition:
		transform var(--dur) var(--ease-out),
		opacity var(--dur) var(--ease-out),
		filter var(--dur) var(--ease-out);
}
[data-scroll].reveal-rotate.is-inview {
	transform: rotate(0) translateY(0) scale(1);
	opacity: 1;
	filter: blur(0);
}

/* Stagger helper: apply incremental delays to children */
.stagger > [data-scroll] {
	transition-delay: calc(var(--i, 0) * 200ms); /* Longer delays for more noticeable stagger */
}

/* Parallax background helper */
.parallax-bg {
	position: absolute;
	inset: -10vh 0 0 0;
	background-size: cover;
	background-position: center;
	z-index: -1;
	will-change: transform;
}

/* Horizontal gallery basics */
.h-scroll-container {
	position: relative;
	height: 120vh; /* vertical space to play the horizontal animation */
	overflow: hidden;
}
.h-track {
	display: flex;
	gap: 2rem;
	will-change: transform;
}

/* Performance hints */
.gpu {
	transform: translateZ(0);
	will-change: transform;
}

/* Scroll container setup */
main[data-scroll-container] {
	touch-action: pan-y;
}

/* ============================================
   Glassmorphism Utilities
   ============================================ */

/* Base glass effect - works on blur-supporting browsers */
@supports (backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px)) {
	.glass {
		background: rgba(255, 255, 255, var(--glass-bg-alpha));
		backdrop-filter: blur(var(--glass-blur)) saturate(1.7);
		-webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.7);
		border: 1px solid rgba(255, 255, 255, var(--glass-border-alpha));
		box-shadow: 
			0 10px 30px rgba(0, 0, 0, 0.35),
			inset 0 1px 0 rgba(255, 255, 255, 0.08);
	}

	.glass--highlight::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 35%;
		background: linear-gradient(
			180deg,
			rgba(255, 255, 255, var(--glass-highlight-alpha)) 0%,
			rgba(255, 255, 255, 0) 100%
		);
		border-radius: inherit;
		pointer-events: none;
		z-index: 1;
	}
}

/* Fallback for browsers without backdrop-filter support */
@supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
	.glass {
		background: rgba(255, 255, 255, 0.14);
		border: 1px solid rgba(255, 255, 255, 0.22);
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
	}
}

/* Accessibility: reduced transparency */
@media (prefers-reduced-transparency: reduce) {
	.glass {
		background: rgba(255, 255, 255, 0.18) !important;
		backdrop-filter: none !important;
		-webkit-backdrop-filter: none !important;
	}
}

/* Reduced motion fallback */
@media (prefers-reduced-motion: reduce) {
	[data-scroll].reveal-up,
	[data-scroll].reveal-fade,
	[data-scroll].reveal-scale,
	[data-scroll].reveal-rotate {
		transition: none !important;
		transform: none !important;
		opacity: 1 !important;
	}
}

@media (max-width: 768px) {
	.h-scroll-container {
		height: 90vh;
	}
}
