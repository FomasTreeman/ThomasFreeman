<script>
	import Divider1 from './Divider.svelte';
</script>

<Divider1 flipped={false} />
<article>
	<h2>My automated betting bot</h2>
	<p>
		<!-- describe the problem -->
		For this project, we had a pretty big task on our hands. Our client had a betting system that was
		a bit sluggish due to manual input, so we decided to automate it to make things smoother. On top
		of that, I designed a custom logging system. At first, I had it set up on my NAS in a Docker container,
		but I ran into a few hiccups with one of the tools I was using. Eventually, I managed to eliminate
		the need for end-to-end testing tools for scraping, which also meant we could ditch the Docker container.
	</p>
	<h3>üîç How it works:</h3>
	<p>
		I scrape data from a tips website and then check it against the system, which consists of a set
		of rules we've created to decide if a bet is worth placing. If it meets the criteria, I open a
		WebSocket to Betfair and wait for the odds to fall within the 'system's' range. As soon as they
		do, it places a bet.
	</p>
	<h3>üñåÔ∏è The User Interface:</h3>
	<p>
		The client, need visibility of the automated system. It needed to track the bot&lsquo;s
		progress. I created a website using svelte-kit and a react-native app. They provided graphs,
		trade history, and fun stats. I also created a developer page secured by password to manage app
		settings and git branch/tag updates.
	</p>
	<h3>üï∞Ô∏è What&lsquo;s next:</h3>
	<p>
		Taking this further, I plan to explore a more algorithmic approach aimed at generating profits
		by laying all trades within a market.
	</p>
	<h3>üîß Skills and tools:</h3>
	<p>
		I've implemented advanced shell scripting tools like pm2, Docker, vi, CI scripts, and GitHub
		Actions to establish a robust CI/CD pipeline. The app now allows for seamless configuration
		management, and changes can be applied without any need to restart the bot. Ensuring the
		automated bot runs smoothly 24/7 without any crashes is of utmost importance, and I've set up
		notifications to keep me informed about any occurrences or issues promptly.
	</p>
	<h3>‚úÇÔ∏è Twists:</h3>
	<p>
		Initially, I implemented the scraping of the tips website using Nightmarejs. However, I later
		rewrote the process using Cypress and jQuery due to the logging benefits it offered. To improve
		performance, I decided to parallelize the scraping service, but this required a Cypress Cloud
		subscription, which my client was not willing to pay for. As a result, I re-implemented it using
		asynchronous Cypress processes, which, unfortunately, led to login cookie conflicts. In my quest
		for a more efficient solution, I discovered that making fetch requests to obtain the raw HTML of
		the page and then parsing it with cheerio.js was a quicker and simpler approach.
	</p>
</article>

<div class="blob-container">
	<img loading="lazy" class="blob" src="/blobs/blob1.svg" alt="blob1" />
	<img loading="lazy" class="blob" src="/blobs/blob2.svg" alt="blob2" />
	<video autoplay loop muted class="mask cat">
		<source src="blobs/cat.webm" type="video/mp4" />
		<caption>cat riding bike</caption>
	</video>
	<video autoplay loop muted class="mask money">
		<source src="blobs/money.webm" type="video/mp4" />
		<caption>bugs bunny counting money</caption>
	</video>
	<video autoplay loop muted class="mask obi-wan">
		<source src="blobs/hello-there.webm" type="video/mp4" />
		<caption>Hello there! -obi wan kenobi</caption>
	</video>
</div>
<Divider1 flipped={true} />

<style>
	:not(:first-child) {
		margin-left: var(--margin-left);
	}

	p {
		max-width: calc(100% - 40vw - var(--margin-left) - 2rem);
	}

	.blob-container {
		position: absolute;
		width: 40vw;
		top: 4rem;
		right: 0rem;
	}

	.blob-container * {
		position: absolute;
	}

	img[alt='blob1'] {
		z-index: 1;
		max-height: 60vh;
		top: 5rem;
	}

	img[alt='blob2'] {
		z-index: 2;
		left: -10rem;
		top: -5rem;
	}

	article {
		height: inherit;
		overflow-y: scroll;
		/* scroll-snap-stop: al; */
		overscroll-behavior: auto;
	}

	article > * {
		/* overriding article default  */
		margin-left: 0px !important;
	}

	@media (max-width: 800px) {
		:not(:first-child) {
			margin-left: 2rem;
		}

		.blob-container {
			display: none;
		}

		article {
			margin-right: 1rem;
		}

		h2 {
			margin-top: 0rem;
		}
		h3 {
			margin-left: 0px !important;
			margin-bottom: 0.5rem;
		}

		p {
			max-width: 100%;
			padding: 0%;
			margin: 0px !important;
		}
	}

	.mask {
		z-index: 2;
		width: 15vw;
		aspect-ratio: 1;
		object-fit: cover;
	}

	.cat {
		clip-path: polygon(
			49.887% 0.001%,
			49.887% 0.001%,
			51.107% 0.359%,
			52.057% 1.272%,
			52.769% 2.6%,
			53.278% 4.204%,
			53.617% 5.945%,
			53.818% 7.681%,
			53.917% 9.275%,
			53.946% 10.586%,
			53.939% 11.475%,
			53.929% 11.803%,
			53.929% 11.803%,
			54.413% 11.603%,
			55.742% 11.07%,
			57.733% 10.303%,
			60.204% 9.4%,
			62.97% 8.461%,
			65.849% 7.585%,
			68.658% 6.87%,
			71.213% 6.415%,
			73.332% 6.321%,
			74.83% 6.684%,
			74.83% 6.684%,
			75.603% 7.591%,
			75.751% 8.971%,
			75.403% 10.69%,
			74.686% 12.614%,
			73.728% 14.61%,
			72.658% 16.542%,
			71.602% 18.279%,
			70.69% 19.685%,
			70.049% 20.626%,
			69.807% 20.97%,
			69.807% 20.97%,
			70.395% 20.967%,
			72.002% 20.979%,
			74.391% 21.032%,
			77.324% 21.155%,
			80.565% 21.377%,
			83.877% 21.725%,
			87.022% 22.227%,
			89.764% 22.912%,
			91.865% 23.809%,
			93.09% 24.944%,
			93.09% 24.944%,
			93.267% 26.301%,
			92.526% 27.8%,
			91.079% 29.374%,
			89.139% 30.955%,
			86.915% 32.476%,
			84.621% 33.871%,
			82.468% 35.073%,
			80.668% 36.015%,
			79.433% 36.629%,
			78.974% 36.848%,
			78.974% 36.848%,
			79.56% 37.109%,
			81.148% 37.832%,
			83.488% 38.933%,
			86.328% 40.323%,
			89.416% 41.915%,
			92.501% 43.624%,
			95.331% 45.363%,
			97.654% 47.044%,
			99.218% 48.581%,
			99.773% 49.887%,
			99.773% 49.887%,
			99.163% 50.976%,
			97.566% 51.925%,
			95.23% 52.739%,
			92.403% 53.424%,
			89.331% 53.987%,
			86.263% 54.434%,
			83.445% 54.77%,
			81.126% 55.003%,
			79.554% 55.139%,
			78.974% 55.182%,
			78.974% 55.182%,
			79.435% 55.631%,
			80.675% 56.865%,
			82.482% 58.716%,
			84.642% 61.016%,
			86.942% 63.597%,
			89.17% 66.29%,
			91.111% 68.929%,
			92.554% 71.343%,
			93.284% 73.367%,
			93.09% 74.83%,
			93.09% 74.83%,
			91.848% 75.638%,
			89.736% 75.881%,
			86.99% 75.673%,
			83.845% 75.127%,
			80.538% 74.355%,
			77.303% 73.47%,
			74.377% 72.585%,
			71.995% 71.813%,
			70.393% 71.267%,
			69.807% 71.06%,
			69.807% 71.06%,
			70.049% 71.623%,
			70.69% 73.158%,
			71.602% 75.438%,
			72.658% 78.235%,
			73.728% 81.32%,
			74.686% 84.465%,
			75.403% 87.443%,
			75.751% 90.025%,
			75.603% 91.983%,
			74.83% 93.09%,
			74.83% 93.09%,
			73.332% 93.219%,
			71.213% 92.525%,
			68.658% 91.199%,
			65.849% 89.432%,
			62.97% 87.414%,
			60.204% 85.335%,
			57.733% 83.386%,
			55.742% 81.758%,
			54.413% 80.642%,
			53.929% 80.227%,
			53.929% 80.227%,
			53.948% 80.787%,
			53.979% 82.304%,
			53.982% 84.535%,
			53.917% 87.239%,
			53.745% 90.171%,
			53.426% 93.09%,
			52.92% 95.752%,
			52.188% 97.915%,
			51.19% 99.337%,
			49.887% 99.773%,
			49.887% 99.773%,
			48.297% 99.115%,
			46.52% 97.565%,
			44.64% 95.35%,
			42.741% 92.696%,
			40.904% 89.829%,
			39.215% 86.976%,
			37.756% 84.363%,
			36.611% 82.216%,
			35.863% 80.762%,
			35.595% 80.227%,
			35.595% 80.227%,
			35.401% 80.65%,
			34.859% 81.787%,
			34.026% 83.443%,
			32.961% 85.421%,
			31.722% 87.526%,
			30.366% 89.562%,
			28.952% 91.332%,
			27.539% 92.641%,
			26.183% 93.292%,
			24.944% 93.09%,
			24.944% 93.09%,
			23.857% 91.91%,
			22.913% 89.91%,
			22.107% 87.311%,
			21.431% 84.335%,
			20.878% 81.207%,
			20.442% 78.148%,
			20.114% 75.381%,
			19.889% 73.129%,
			19.759% 71.614%,
			19.717% 71.06%,
			19.717% 71.06%,
			19.406% 71.264%,
			18.555% 71.802%,
			17.282% 72.563%,
			15.709% 73.437%,
			13.956% 74.312%,
			12.142% 75.078%,
			10.387% 75.623%,
			8.813% 75.838%,
			7.539% 75.61%,
			6.684% 74.83%,
			6.684% 74.83%,
			6.303% 73.394%,
			6.313% 71.387%,
			6.631% 68.979%,
			7.175% 66.34%,
			7.862% 63.639%,
			8.609% 61.049%,
			9.334% 58.737%,
			9.954% 56.876%,
			10.387% 55.634%,
			10.55% 55.182%,
			10.55% 55.182%,
			10.258% 55.166%,
			9.464% 55.102%,
			8.293% 54.964%,
			6.869% 54.729%,
			5.318% 54.371%,
			3.763% 53.867%,
			2.33% 53.191%,
			1.142% 52.318%,
			0.324% 51.225%,
			0.001% 49.887%,
			0.001% 49.887%,
			0.269% 48.332%,
			1.054% 46.65%,
			2.229% 44.911%,
			3.665% 43.182%,
			5.233% 41.531%,
			6.804% 40.027%,
			8.25% 38.739%,
			9.442% 37.734%,
			10.251% 37.081%,
			10.55% 36.848%,
			10.55% 36.848%,
			10.388% 36.622%,
			9.958% 35.993%,
			9.342% 35.03%,
			8.621% 33.806%,
			7.877% 32.391%,
			7.193% 30.856%,
			6.649% 29.273%,
			6.329% 27.713%,
			6.313% 26.246%,
			6.684% 24.944%,
			6.684% 24.944%,
			7.529% 23.864%,
			8.797% 23%,
			10.369% 22.328%,
			12.124% 21.823%,
			13.94% 21.462%,
			15.698% 21.221%,
			17.275% 21.075%,
			18.551% 21.001%,
			19.405% 20.974%,
			19.717% 20.97%,
			19.717% 20.97%,
			19.768% 20.643%,
			19.922% 19.743%,
			20.179% 18.394%,
			20.54% 16.718%,
			21.006% 14.839%,
			21.579% 12.878%,
			22.258% 10.959%,
			23.045% 9.206%,
			23.94% 7.74%,
			24.944% 6.684%,
			24.944% 6.684%,
			26.1% 6.172%,
			27.407% 6.181%,
			28.802% 6.6%,
			30.218% 7.321%,
			31.594% 8.232%,
			32.863% 9.224%,
			33.962% 10.187%,
			34.826% 11.012%,
			35.392% 11.587%,
			35.595% 11.803%,
			35.595% 11.803%,
			35.872% 11.469%,
			36.644% 10.564%,
			37.821% 9.232%,
			39.314% 7.616%,
			41.033% 5.859%,
			42.888% 4.106%,
			44.791% 2.5%,
			46.651% 1.184%,
			48.38% 0.304%,
			49.887% 0.001%
		);
		top: 4rem;
		left: -5rem;
	}

	.obi-wan {
		clip-path: polygon(
			21.656% 15.99%,
			21.656% 15.99%,
			19.78% 17.48%,
			17.918% 18.767%,
			16.078% 19.93%,
			14.268% 21.047%,
			12.498% 22.195%,
			10.774% 23.452%,
			9.107% 24.898%,
			7.505% 26.61%,
			5.976% 28.666%,
			4.529% 31.145%,
			4.529% 31.145%,
			3.241% 33.87%,
			2.178% 36.613%,
			1.335% 39.377%,
			0.704% 42.16%,
			0.277% 44.964%,
			0.047% 47.79%,
			0.008% 50.637%,
			0.152% 53.507%,
			0.472% 56.4%,
			0.96% 59.317%,
			0.96% 59.317%,
			1.687% 62.083%,
			2.694% 64.551%,
			3.93% 66.765%,
			5.348% 68.769%,
			6.898% 70.607%,
			8.531% 72.323%,
			10.198% 73.961%,
			11.851% 75.564%,
			13.44% 77.178%,
			14.916% 78.845%,
			14.916% 78.845%,
			16.339% 80.821%,
			17.824% 83.232%,
			19.403% 85.926%,
			21.108% 88.752%,
			22.974% 91.558%,
			25.032% 94.194%,
			27.316% 96.507%,
			29.858% 98.347%,
			32.692% 99.561%,
			35.849% 100%,
			35.849% 100%,
			38.966% 99.868%,
			41.71% 99.504%,
			44.157% 98.956%,
			46.387% 98.275%,
			48.477% 97.508%,
			50.504% 96.705%,
			52.548% 95.913%,
			54.687% 95.183%,
			56.997% 94.563%,
			59.558% 94.101%,
			59.558% 94.101%,
			62.231% 93.904%,
			64.834% 93.981%,
			67.376% 94.23%,
			69.87% 94.553%,
			72.324% 94.851%,
			74.75% 95.024%,
			77.157% 94.972%,
			79.557% 94.596%,
			81.96% 93.796%,
			84.376% 92.474%,
			84.376% 92.474%,
			86.573% 90.577%,
			88.347% 88.189%,
			89.748% 85.409%,
			90.829% 82.337%,
			91.641% 79.074%,
			92.238% 75.719%,
			92.669% 72.373%,
			92.988% 69.135%,
			93.246% 66.106%,
			93.495% 63.386%,
			93.495% 63.386%,
			93.885% 60.858%,
			94.491% 58.333%,
			95.254% 55.802%,
			96.115% 53.256%,
			97.014% 50.685%,
			97.891% 48.081%,
			98.687% 45.434%,
			99.344% 42.735%,
			99.8% 39.975%,
			99.997% 37.146%,
			99.997% 37.146%,
			99.864% 34.399%,
			99.396% 31.883%,
			98.635% 29.576%,
			97.622% 27.46%,
			96.399% 25.513%,
			95.007% 23.715%,
			93.488% 22.047%,
			91.882% 20.488%,
			90.232% 19.019%,
			88.579% 17.618%,
			88.579% 17.618%,
			87.047% 16.138%,
			85.699% 14.481%,
			84.479% 12.702%,
			83.333% 10.856%,
			82.206% 8.998%,
			81.043% 7.183%,
			79.79% 5.465%,
			78.391% 3.9%,
			76.793% 2.542%,
			74.94% 1.446%,
			74.94% 1.446%,
			73% 0.68%,
			71.155% 0.236%,
			69.378% 0.056%,
			67.643% 0.084%,
			65.921% 0.264%,
			64.185% 0.538%,
			62.406% 0.851%,
			60.559% 1.144%,
			58.614% 1.361%,
			56.545% 1.446%,
			56.545% 1.446%,
			54.457% 1.359%,
			52.458% 1.134%,
			50.522% 0.831%,
			48.626% 0.509%,
			46.742% 0.226%,
			44.847% 0.041%,
			42.914% 0.011%,
			40.92% 0.197%,
			38.837% 0.656%,
			36.642% 1.446%,
			36.642% 1.446%,
			34.561% 2.499%,
			32.792% 3.691%,
			31.267% 5.004%,
			29.917% 6.42%,
			28.673% 7.918%,
			27.468% 9.48%,
			26.232% 11.087%,
			24.897% 12.72%,
			23.394% 14.361%,
			21.656% 15.99%
		);
		top: 20vh;
		right: 5vw;
	}

	.money {
		/* background-image: url('/static/hello-there.webm'); */
		clip-path: polygon(
			41.58% 17.542%,
			41.58% 17.542%,
			37.939% 17.804%,
			34.257% 17.304%,
			30.559% 16.321%,
			26.872% 15.136%,
			23.221% 14.029%,
			19.633% 13.28%,
			16.134% 13.17%,
			12.749% 13.978%,
			9.505% 15.986%,
			6.427% 19.474%,
			6.427% 19.474%,
			4.868% 22.983%,
			4.299% 26.356%,
			4.526% 29.612%,
			5.354% 32.766%,
			6.588% 35.838%,
			8.034% 38.844%,
			9.497% 41.801%,
			10.783% 44.728%,
			11.697% 47.642%,
			12.045% 50.561%,
			12.045% 50.561%,
			11.554% 54.045%,
			10.254% 57.269%,
			8.405% 60.301%,
			6.267% 63.21%,
			4.1% 66.061%,
			2.164% 68.923%,
			0.719% 71.862%,
			0.026% 74.948%,
			0.344% 78.246%,
			1.933% 81.824%,
			1.933% 81.824%,
			4.522% 84.769%,
			7.6% 86.309%,
			11.069% 86.726%,
			14.831% 86.301%,
			18.787% 85.315%,
			22.84% 84.05%,
			26.89% 82.787%,
			30.841% 81.807%,
			34.593% 81.393%,
			38.049% 81.824%,
			38.049% 81.824%,
			41.07% 83.137%,
			43.651% 85.054%,
			45.892% 87.391%,
			47.89% 89.962%,
			49.746% 92.582%,
			51.559% 95.064%,
			53.428% 97.224%,
			55.451% 98.876%,
			57.729% 99.835%,
			60.36% 99.914%,
			60.36% 99.914%,
			62.872% 99.033%,
			64.81% 97.354%,
			66.305% 95.06%,
			67.487% 92.333%,
			68.487% 89.354%,
			69.433% 86.308%,
			70.456% 83.375%,
			71.686% 80.738%,
			73.254% 78.58%,
			75.288% 77.082%,
			75.288% 77.082%,
			77.619% 76.274%,
			79.968% 75.954%,
			82.305% 75.953%,
			84.601% 76.107%,
			86.825% 76.248%,
			88.949% 76.209%,
			90.941% 75.825%,
			92.773% 74.929%,
			94.414% 73.355%,
			95.834% 70.935%,
			95.834% 70.935%,
			96.569% 68.117%,
			96.317% 65.441%,
			95.297% 62.881%,
			93.726% 60.411%,
			91.821% 58.004%,
			89.802% 55.633%,
			87.884% 53.274%,
			86.286% 50.898%,
			85.225% 48.481%,
			84.919% 45.995%,
			84.919% 45.995%,
			85.566% 43.564%,
			87.052% 41.299%,
			89.128% 39.156%,
			91.543% 37.092%,
			94.049% 35.061%,
			96.396% 33.02%,
			98.334% 30.924%,
			99.615% 28.729%,
			99.988% 26.391%,
			99.205% 23.865%,
			99.205% 23.865%,
			97.517% 21.809%,
			95.408% 20.759%,
			92.977% 20.49%,
			90.324% 20.773%,
			87.548% 21.384%,
			84.747% 22.094%,
			82.022% 22.678%,
			79.471% 22.909%,
			77.193% 22.56%,
			75.288% 21.406%,
			75.288% 21.406%,
			73.933% 19.54%,
			73.117% 17.29%,
			72.655% 14.779%,
			72.363% 12.129%,
			72.058% 9.462%,
			71.555% 6.901%,
			70.671% 4.567%,
			69.222% 2.583%,
			67.024% 1.071%,
			63.892% 0.154%,
			63.892% 0.154%,
			60.628% 0.105%,
			58.043% 0.984%,
			55.968% 2.593%,
			54.235% 4.732%,
			52.676% 7.201%,
			51.121% 9.802%,
			49.403% 12.336%,
			47.352% 14.604%,
			44.801% 16.405%,
			41.58% 17.542%
		);
		top: 40vh;
	}
</style>
